# 자바스크립트의 타입 변환과 단축 평가

자바스크립트의 모든 값은 타입을 가지고 있으며, 상황에 따라 타입을 변환할 수 있습니다.

## 1. 타입 변환이란?

### 명시적 타입 변환 (Explicit Coercion)

개발자가 의도적으로 타입을 변환하는 것을 말하며, **타입 캐스팅**이라고도 부릅니다.

```javascript
const x = 10;

// 숫자를 문자열로 명시적 타입 변환
const str = x.toString();
console.log(typeof str, str); // string "10"

// 원본 x 변수의 값이 변경된 것은 아닙니다.
console.log(typeof x, x); // number 10
```

### 암묵적 타입 변환 (Implicit Coercion)

자바스크립트 엔진에 의해 의도와 상관없이 암묵적으로 타입이 자동 변환되는 것을 말하며, **타입 강제 변환**이라고도 합니다.

```javascript
const x = 10;

// 암묵적 타입 변환: 숫자 + 문자열 => 문자열
const str = x + "";
console.log(typeof str, str); // string "10"
```

---

## 2. 암묵적 타입 변환 예시

| 변환 종류         | 예시 코드               | 설명                                                                |
| ----------------- | ----------------------- | ------------------------------------------------------------------- |
| **문자열 타입**   | `10 + '20'` // `'1020'` | `+` 연산 시 피연산자 중 문자열이 있으면 숫자가 문자열로 변환됩니다. |
| **숫자 타입**     | `'10' * 2` // `20`      | 산술 연산(`*`, `-`, `/`) 시 문자열이 숫자로 변환됩니다.             |
| **불리언 타입**   | `if (0) { }`            | 조건식 내부에서 `0`은 `false`로 취급됩니다.                         |
| **템플릿 리터럴** | `1 + 1 = ${1 + 1}`      | 표현식의 평가 결과가 문자열로 암묵적 변환됩니다.                    |

### 문자열 타입으로의 암묵적 변환 상세

```javascript
// 숫자 및 불리언
0 + ''              // '0'
-1 + ''             // '-1'
NaN + ''            // 'NaN'
Infinity + ''       // 'Infinity'
true + ''           // 'true'
null + ''           // 'null'
undefined + ''      // 'undefined'

// 객체 및 배열
({}) + ''           // '[object Object]'
[] + ''             // ''
[10, 20] + ''       // '10,20'

// 심벌 (에러 발생)
(Symbol()) + ''     // TypeError: Cannot convert a Symbol value to a string

```

---

## 3. 명시적 타입 변환 방법

개발자가 의도를 가지고 직접 타입을 변경하는 라이브러리 함수나 빌트인 생성자를 사용하는 방법입니다.

### 문자열 타입으로 변환

- `String(10)` // `'10'`
- `(10).toString()` // `'10'`

### 숫자 타입으로 변환

- `Number('10')` // `10`
- `parseInt('10')` // `10`
- `parseFloat('10.5')` // `10.5`

### 불리언 타입으로 변환

- `Boolean(1)` // `true`
- `Boolean(0)` // `false`
- `Boolean('')` // `false`

---

## 4. 단축 평가 (Short-circuit Evaluation)

논리 연산자를 사용하여 조건문의 복잡도를 줄일 수 있는 유용한 기법입니다.

### 논리 연산자 규칙

| 단축 평가 표현식    | 평가 결과    |
| ------------------- | ------------ |
| `true ∥ anything`   | **true**     |
| `false ∥ anything`  | **anything** |
| `true && anything`  | **anything** |
| `false && anything` | **false**    |

### if 문 대신 사용하기

```javascript
// 1. if 문 사용
if (isLogin) {
  showProfile();
}

// 2. 논리 연산자(&&) 사용 (isLogin이 true일 때만 우측 실행)
isLogin && showProfile();
```

---

## 5. 최신 연산자 (ES11 이상)

### 옵셔널 체이닝 연산자 (`?.`)

좌측 피연산자가 `null` 또는 `undefined`이면 에러를 내지 않고 즉시 `undefined`를 반환합니다.

```javascript
const user = null;
console.log(user?.name); // undefined (에러 발생 ❌)
```

### null 병합 연산자 (`??`)

좌측 피연산자가 `null` 또는 `undefined`인 경우에만 우측 피연산자를 반환합니다. 변수 기본값을 설정할 때 유용합니다.

```javascript
var foo = null ?? "default string";
console.log(foo); // 'default string'

var bar = "hello" ?? "default string";
console.log(bar); // 'hello'
```
